require 'test_helper'

class SudokuTest < Minitest::Test
  def setup
    @validator = SudokuValidator.new
  end

  def test_valid_board
    board = [
      ["5","3",".",".","7",".",".",".","."],
      ["6",".",".","1","9","5",".",".","."],
      [".","9","8",".",".",".",".","6","."],
      ["8",".",".",".","6",".",".",".","3"],
      ["4",".",".","8",".","3",".",".","1"],
      ["7",".",".",".","2",".",".",".","6"],
      [".","6",".",".",".",".","2","8","."],
      [".",".",".","4","1","9",".",".","5"],
      [".",".",".",".","8",".",".","7","9"]
    ]
    assert_equal true, @validator.is_valid_sudoku(board)
  end

  def test_invalid_line
    board = [
      ["1","2","3",".",".","3",".",".","."],
      [".",".",".",".",".",".",".",".","."],
      [".",".",".",".",".",".",".",".","."],
      [".",".",".",".",".",".",".",".","."],
      [".",".",".",".",".",".",".",".","."],
      [".",".",".",".",".",".",".",".","."],
      [".",".",".",".",".",".",".",".","."],
      [".",".",".",".",".",".",".",".","."],
      [".",".",".",".",".",".",".",".","."]
    ]
    assert_equal false, @validator.is_valid_sudoku(board)
  end

  def test_invalid_column
    board = [
      [".",".",".",".","2",".",".",".","."],
      [".",".",".",".",".",".",".",".","."],
      [".",".",".",".",".",".",".",".","."],
      [".",".",".",".","9",".",".",".","."],
      [".",".",".",".",".",".",".",".","."],
      [".",".",".",".","3",".",".",".","."],
      [".",".",".",".",".",".",".",".","."],
      [".",".",".",".","1",".",".",".","."],
      [".",".",".",".","2",".",".",".","."]
    ]
    assert_equal false, @validator.is_valid_sudoku(board)
  end

  def test_invalid_box
    board = [
      [".",".",".",".",".",".",".",".","."],
      [".",".",".",".",".",".",".",".","."],
      [".",".",".",".",".",".",".",".","."],
      [".",".",".","3",".","6",".",".","."],
      [".",".",".",".","3",".",".",".","."],
      [".",".",".",".",".","4",".",".","."],
      [".",".",".",".",".",".",".",".","."],
      [".",".",".",".",".",".",".",".","."],
      [".",".",".",".",".",".",".",".","."]
    ]
    assert_equal false, @validator.is_valid_sudoku(board)
  end
end
